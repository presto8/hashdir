#!/usr/bin/env bash

set -euo pipefail

test_bash() ( cd bash && ./hashdir.sh "$@" ; )
test_python() ( cd python && ./hashdir.py "$@" ; )
test_rust() ( cd rust && cargo build --release && ./target/release/hashdir "$@" ; )

main() {
    target="../test_dir"
    test_bash "$target"
    test_python "$target"
    test_rust "$target"
}

main "$@"
